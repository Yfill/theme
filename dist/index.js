/*
      @license
      @yfill/theme v1.0.5
      Sat, 31 Oct 2020 13:54:39 GMT
      https://yfill.cn/theme
      Released under the MIT License.
    */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t="undefined"!=typeof globalThis?globalThis:t||self).Theme=n()}(this,(function(){"use strict";function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function e(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function r(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function o(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function a(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?o(Object(e),!0).forEach((function(n){r(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):o(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function u(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&c(t,n)}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,n){return(c=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function l(t,n){return!n||"object"!=typeof n&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function f(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,r=i(t);if(n){var o=i(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return l(this,e)}}function s(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var e=[],r=!0,o=!1,a=void 0;try{for(var u,i=t[Symbol.iterator]();!(r=(u=i.next()).done)&&(e.push(u.value),!n||e.length!==n);r=!0);}catch(t){o=!0,a=t}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return e}(t,n)||function(t,n){if(!t)return;if("string"==typeof t)return p(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return p(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var h=function(t,n,e){return t(e={path:n,exports:{},require:function(t,n){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&e.path)}},e.exports),e.exports}((function(t,n){
/*
        @license
        @yfill/event-hub v1.0.0
        Sat, 31 Oct 2020 11:17:29 GMT
        https://yfill.cn/event-hub
        Released under the MIT License.
      */
t.exports=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var n,e=function(t){var n=[];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.push(t[e]);return n};!function(t){t.Creating="Creating",t.Activated="Activated",t.Destroyed="Destroyed"}(n||(n={}));var r=0,o=0,a={},u={},i=function(t,n){return t["$event-type-".concat(n)]||""},c=function(t,n,e){if(n&&e){var o=t[n]||{},a=i(e,n)||"".concat(r+=1),u=o[a]||[];u.push(e),o[a]=u,t[n]=o,function(t,n,e){t["$event-type-".concat(n)]=e}(e,n,a)}},l=function(t,n,e){e?delete(t[n]||{})["".concat(i(e,n))]:delete t[n]},f=function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];e(t[n]||{}).forEach((function(t){return t.forEach((function(t){return t.apply(void 0,o)}))}))},s=function(t,e){t===n.Activated&&e()},p=function(){function e(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.status=n.Creating,this.id="".concat(o+=1),u[this.id]={},this.status=n.Activated}var r,a,i;return r=e,i=[{key:"create",value:function(){return new e}}],(a=[{key:"on",value:function(t,n){var e=this;return s(this.status,(function(){return c(u[e.id],t,n)})),this}},{key:"off",value:function(t,n){var e=this;return s(this.status,(function(){return l(u[e.id],t,n)})),this}},{key:"emit",value:function(t){for(var n=this,e=arguments.length,r=new Array(e>1?e-1:0),o=1;o<e;o++)r[o-1]=arguments[o];return s(this.status,(function(){return f.apply(void 0,[u[n.id],t].concat(r))})),this}},{key:"destroy",value:function(){delete u[this.id],this.status=n.Destroyed}}])&&t(r.prototype,a),i&&t(r,i),e}();return p.on=function(t,n){return c(a,t,n)},p.off=function(t,n){return l(a,t,n)},p.emit=function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];return f.apply(void 0,[a,t].concat(e))},p}()})),m="light",v="dark",d=m,y=v,g="main",b="default",k="mounted",x="unmounted",S=[d,y,g],w=function(t,n){for(var e=t.length,r=0;r<e;r+=1)if(t[r]===n)return!0;return!1},I=function(t){return t.filter((function(t){return null!=t}))},O=function(t,n,e,r){return n.reduce((function(n,o){var a=t;e&&(a=function(t,n){return!t||w([d,y],t)?n:n.map((function(n){var e=s(n,2);return[e[0],e[1].map((function(n){return"".concat(n,"-").concat(t)}))]}))}(e,a));var u=s(o,2),i=u[0],c=u[1],l=[b,"hover"];return"".concat(n).concat(a.reduce((function(t,n){var e=s(n,2),o=e[0],a=e[1];return t+l.reduce((function(t,n){var e=n===b;return"".concat(t).concat(c.map((function(t){return a.map((function(o){return"[".concat(r?"".concat(r,"-"):"").concat(o,"-").concat(t).concat(e?"":"-".concat(n),"]").concat(e?"":":".concat(n))})).join(",")})).join(","),"{").concat(o,":").concat(i).concat(e?"":" !important",";}")}),"")}),""))}),"")},M=function t(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),o=1;o<e;o++)r[o-1]=arguments[o];return r.length>=n.length?n.apply(void 0,r):function(){for(var e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return t.apply(void 0,[n].concat(r,o))}},j=function(t){if(!t)throw new TypeError("The color value cannot be empty");if(!/^\#?[0-9A-F]{6}$/.test("".concat(t).toUpperCase()))throw new TypeError("The color value(".concat(t,") needs to be a hex value"))},A=function(t){return j(t),(t.replace("#","").match(/../g)||[]).map((function(t){return parseInt(t,16)}))},C=function(t){return Math.max(0,Math.min(255,t))},P=function(t,n,e){var r=/^\d{1,3}$/;if(!r.test("".concat(t))||!r.test("".concat(n))||!r.test("".concat(e)))throw new TypeError("rgb error");var o=[t.toString(16),n.toString(16),e.toString(16)];return"#".concat(o.map((function(t){return 1===t.length?"0".concat(t):t})).join(""))},T=function(t,n,e){return A(t).map((function(t){return C(e?Math.round((255-t)*n+t):Math.round(t*(1-n)))}))},E=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];j(t);var r=Math.max(0,Math.min(1,Math.abs(n))),o=n>=0,a=T(t,r,o);return e?o?"rgba(".concat(A(t).join(","),",").concat((1-r).toFixed(3),")"):"rgba(".concat(a.map((function(t){return C(Math.round((255-t/r)/(1-1/r)))})).join(","),",").concat((1-r).toFixed(3),")"):P(a[0],a[1],a[2])},z=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return E(t,-n,e)},N=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return E(t,n,e)},G=function(t,n,e,r,o){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=(n||[])[o];return u||(e===y?N(t,o/r,a):e===d?z(t,o/r,a):N(t,o/r,a))},D=function(t,n){return t},F=function(t,n){return w([d,y],n)?n===y?N(t,.09):z(t,.09):t},L=function(t,n){return w([d,y],n)?n===y?N(t,.65):z(t,.65):t},V=function n(e){var r,o,a;t(this,n);var u=Math.max(null!==(r=e.maxLevel)&&void 0!==r?r:10,(null!==(o=null===(a=e.colorGroup)||void 0===a?void 0:a.length)&&void 0!==o?o:0)-1),i=M(G,e.color,e.colorGroup,e.mark,u);this.mark=e.mark,this.prefix=e.prefix,this.colorValueNames=n.getValueNames(i,u,e.nameMapGroup[0])};V.getValueNames=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Array.apply(null,Array(n+1)).reduce((function(n,r,o){return n.concat([!1,!0].map((function(n){return[t(o,n),I(["".concat(o).concat(n?"-a":""),e[o]])]}))).concat(0===o?[]:[!1,!0].map((function(n){return[t(-o,n),I(["".concat(-o).concat(n?"-a":""),e[-o]])]})))}),[])};var _=function(n){u(o,n);var r=f(o);function o(){return t(this,o),r.apply(this,arguments)}return e(o,[{key:"exportStyle",value:function(){return O(o.colorPropMark,this.colorValueNames,this.mark,this.prefix)}}]),o}(V);_.colorPropMark=[["background-color",["background-color"]]];var R=function(n){u(o,n);var r=f(o);function o(){return t(this,o),r.apply(this,arguments)}return e(o,[{key:"exportStyle",value:function(){return O(o.colorPropMarks,this.colorValueNames,this.mark,this.prefix)}}]),o}(V);R.colorPropMarks=[["border-color",["border-color"]],["border-top-color",["border-top-color"]],["border-bottom-color",["border-bottom-color"]],["border-left-color",["border-left-color"]],["border-right-color",["border-right-color"]]];var $=function(n){u(o,n);var r=f(o);function o(n){var e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:52;t(this,o),e=r.call(this,n);var i=parseInt(window.getComputedStyle(document.documentElement).fontSize,10),c=Math.max(12,a),l=Math.max(Math.max(12,u),c),f=n.nameMapGroup[1]||{};return e.fontSizeValueNames=Array.apply(null,Array(l-c+1)).map((function(){return c})).map((function(t,n){return t+n})).map((function(t){return["".concat(t/i,"rem"),I(["".concat(t),f[t]])]})),e}return e(o,[{key:"exportStyle",value:function(){return(w([d,y],this.mark)?O(o.sizePropMarks,this.fontSizeValueNames,this.mark,this.prefix):"")+O(o.colorPropMarks,this.colorValueNames,this.mark,this.prefix)}}]),o}(V);$.colorPropMarks=[["color",["font-color"]]],$.sizePropMarks=[["font-size",["font-size"]]];var q=function(n){u(o,n);var r=f(o);function o(n){var e;t(this,o),e=r.call(this,n);var a=M((function(t){return E(w([y,d],e.mark)?"#000000":E(n.color,-.16),t,!0)})),u=n.nameMapGroup[1]||{};return e.shadowBoxvalueNames=["0 1px 2px -2px ".concat(a(.84),",0 3px 6px 0 ").concat(a(.88),",0 5px 12px 4px ").concat(a(.91)),"0 3px 6px -4px ".concat(a(.88),",0 6px 16px 0 ").concat(a(.92),",0 9px 28px 8px ").concat(a(.95)),"0 6px 16px -8px ".concat(a(.92),",0 9px 28px 0 ").concat(a(.95),",0 12px 48px 16px ").concat(a(.97))].map((function(t,n){return[t,I(["".concat(n),u[n]])]})),e}return e(o,[{key:"exportStyle",value:function(){return O(o.shadowPropMarks,this.shadowBoxvalueNames,this.mark,this.prefix)}}]),o}(V);q.shadowPropMarks=[["box-shadow",["box-shadow"]]];var B=function(t,n){var e=t.color,r=t.backgroundColor,o=t.borderColor,u=t.fontColor,i=t.backgroundColorGroup,c=t.backgroundColorNameMap,l=t.borderColorGroup,f=t.borderColorNameMap,s=t.fontColorGroup,p=t.fontColorNameMap,h=t.fontSizeNameMap,m=t.boxShadowNameMap,v=t.mark,d={maxLevel:n.maxLevel,prefix:n.prefix,mark:v},y=[new _(a(a({},d),{},{color:r||D(e),colorGroup:i,nameMapGroup:[c]})),new R(a(a({},d),{},{color:o||F(e,v),colorGroup:l,nameMapGroup:[f]})),new $(a(a({},d),{},{color:u||L(e,v),colorGroup:s,nameMapGroup:[p,h]}),n.minFontSize,n.maxFontSize),new q(a(a({},d),{},{color:e,nameMapGroup:[void 0,m]}))];return{mount:function(){var t=document.head;if(!t.querySelector('[theme-item="'.concat(v,'"]'))){var n=document.createElement("style");n.innerText=y.map((function(t){return t.exportStyle()})).join(""),n.setAttribute("theme-item",v),t.appendChild(n)}},umount:function(){var t=document.head,n=t.querySelector('[theme-item="'.concat(v,'"]'));n&&t.removeChild(n)}}},J="#ffffff",U={color:J,mark:m,backgroundColor:D(J),borderColor:F(J,m),fontColor:L(J,m)},H="#191919",Z={color:H,mark:v,backgroundColor:D(H),borderColor:F(H,v),fontColor:L(H,v)},K="#1890ff",Q={color:K,mark:g,backgroundColor:D(K),borderColor:F(K,g),fontColor:L(K,g)},W=function(t){var n=[];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.push(t[e]);return n},X=function(){var t;return(t=console).error.apply(t,arguments)},Y=new h,tt=Y.on.bind(Y),nt=Y.off.bind(Y),et=Y.emit.bind(Y),rt=function(t){try{localStorage.setItem("themeInstance@mode",t)}catch(t){X(t.message)}},ot={lightStyleInstance:null,darkStyleInstance:null,mainStyleInstance:null,otherStyleInstanceMap:{},commonThemeOpt:{prefix:""},initialLightOpt:null,initialDarkOpt:null,initialMainOpt:null},at=function(){function n(e){t(this,n),this.mode=m,this.status="notMounted";var r=e||{lightOpt:U,darkOpt:Z,mainOpt:Q,mode:m,prefix:"",minFontSize:12,maxFontSize:52,maxLevel:10},o=r.lightOpt,u=void 0===o?U:o,i=r.darkOpt,c=void 0===i?Z:i,l=r.mainOpt,f=void 0===l?Q:l,s=r.mode,p=void 0===s?m:s,h=r.prefix,b=void 0===h?"":h,k=r.minFontSize,x=void 0===k?12:k,S=r.maxFontSize,I=void 0===S?52:S,O=r.maxLevel,M=void 0===O?10:O;if(window.themeInstance)return window.themeInstance;b&&!/^[a-zA-Z]/.test("".concat(b))&&function(){var t;(t=console).warn.apply(t,arguments)}("The prefix must start with a letter"),ot.commonThemeOpt={prefix:b,minFontSize:x,maxFontSize:I,maxLevel:M},this.mode=function(){var t=null;try{t=localStorage.getItem("themeInstance@mode")}catch(n){X(n.message),t=null}return w([m,v],t)||(t=null),t}()||p;var j=ot.commonThemeOpt,A=a(a(a({},U),u),{},{mark:d}),C=a(a(a({},Z),c),{},{mark:y}),P=a(a(a({},Q),f),{},{mark:g});ot.initialLightOpt=A,ot.initialDarkOpt=C,ot.initialMainOpt=P,ot.lightStyleInstance=B(A,j),ot.darkStyleInstance=B(C,j),ot.mainStyleInstance=B(P,j),n.themeInstance=this,window.themeInstance=this,rt(this.mode)}return e(n,[{key:"mount",value:function(){var t,n,e;return this.status===k||(this.mode===m?null===(t=ot.lightStyleInstance)||void 0===t||t.mount():this.mode===v&&(null===(n=ot.darkStyleInstance)||void 0===n||n.mount()),null===(e=ot.mainStyleInstance)||void 0===e||e.mount(),W(ot.otherStyleInstanceMap).forEach((function(t){return t.mount()})),this.status=k,et("mount",this)),this}},{key:"umount",value:function(){var t,n,e;return this.status===x||(null===(t=ot.lightStyleInstance)||void 0===t||t.umount(),null===(n=ot.darkStyleInstance)||void 0===n||n.umount(),null===(e=ot.mainStyleInstance)||void 0===e||e.umount(),W(ot.otherStyleInstanceMap).forEach((function(t){return t.umount()})),this.status=x,et("umount",this)),this}},{key:"add",value:function(t){var n=t.mark;if(!n||w(S,n))return this;var e=B(t,ot.commonThemeOpt);return e.mount(),ot.otherStyleInstanceMap[n]=e,et("add",t),this}},{key:"remove",value:function(t){if(t){var n=ot.otherStyleInstanceMap[t];null==n||n.umount(),delete ot.otherStyleInstanceMap[t],et("remove",t)}return this}},{key:"update",value:function(t){var n=t.mark;if(!w(S,n)&&!ot.otherStyleInstanceMap[n])return this;var e,r,o=B(t,ot.commonThemeOpt);if(n===d)null===(e=ot.lightStyleInstance)||void 0===e||e.umount(),ot.lightStyleInstance=o,this.mode===m&&(null===(r=ot.lightStyleInstance)||void 0===r||r.mount());else if(n===y){var a,u;null===(a=ot.darkStyleInstance)||void 0===a||a.umount(),ot.darkStyleInstance=o,this.mode===v&&(null===(u=ot.darkStyleInstance)||void 0===u||u.mount())}else if(n===g){var i,c;null===(i=ot.mainStyleInstance)||void 0===i||i.umount(),ot.mainStyleInstance=o,null===(c=ot.mainStyleInstance)||void 0===c||c.mount()}else{var l,f;null===(l=ot.otherStyleInstanceMap[n])||void 0===l||l.umount(),ot.otherStyleInstanceMap[n]=o,null===(f=ot.otherStyleInstanceMap[n])||void 0===f||f.mount()}return et("update",t),this}},{key:"refresh",value:function(){return this.umount().mount(),et("refresh",this),this}},{key:"change",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.mode===m?v:m;return t===this.mode||(this.mode=t,this.refresh(),rt(this.mode),et("change",t)),this}},{key:"getStore",value:function(){return JSON.parse(JSON.stringify(ot))}},{key:"install",value:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),o=1;o<e;o++)r[o-1]=arguments[o];return t.install.apply(t,[n.themeInstance].concat(r)),this}},{key:"use",value:function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];return this.install.apply(this,[t].concat(e))}},{key:"uninstall",value:function(t){return t.uninstall(n.themeInstance),this}},{key:"on",value:function(t,n){return tt(t,n),this}},{key:"off",value:function(t,n){return nt(t,n),this}},{key:"emit",value:function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];return et.apply(void 0,[t].concat(e)),this}}],[{key:"run",value:function(t){return new n(t).mount()}},{key:"mount",value:function(){var t;return null===(t=n.themeInstance)||void 0===t?void 0:t.mount()}},{key:"umount",value:function(){var t;return null===(t=n.themeInstance)||void 0===t?void 0:t.umount()}},{key:"add",value:function(t){var e;return null===(e=n.themeInstance)||void 0===e?void 0:e.add(t)}},{key:"remove",value:function(t){var e;return null===(e=n.themeInstance)||void 0===e?void 0:e.remove(t)}},{key:"update",value:function(t){var e;return null===(e=n.themeInstance)||void 0===e?void 0:e.update(t)}},{key:"refresh",value:function(){var t;return null===(t=n.themeInstance)||void 0===t?void 0:t.refresh()}},{key:"change",value:function(t){var e;return null===(e=n.themeInstance)||void 0===e?void 0:e.change(t)}},{key:"install",value:function(t){for(var e,r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return null===(e=n.themeInstance)||void 0===e?void 0:e.install.apply(e,[t].concat(o))}},{key:"use",value:function(t){for(var e,r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return null===(e=n.themeInstance)||void 0===e?void 0:e.install.apply(e,[t].concat(o))}},{key:"uninstall",value:function(t){var e;return null===(e=n.themeInstance)||void 0===e?void 0:e.uninstall(t)}},{key:"getStore",value:function(){var t;return null===(t=n.themeInstance)||void 0===t?void 0:t.getStore()}},{key:"on",value:function(t,e){var r;return null===(r=n.themeInstance)||void 0===r?void 0:r.on(t,e)}},{key:"off",value:function(t,e){var r;return null===(r=n.themeInstance)||void 0===r?void 0:r.off(t,e)}},{key:"emit",value:function(t){for(var e,r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return null===(e=n.themeInstance)||void 0===e?void 0:e.emit.apply(e,[t].concat(o))}}]),n}();return at.EventHub=h,at.themeInstance=null,at}));
